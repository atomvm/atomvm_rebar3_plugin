<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.30.7">
    <meta name="project" content="atomvm_rebar3_plugin v0.7.3">

    <title>atomvm_rebar3_plugin â€” atomvm_rebar3_plugin v0.7.3</title>
    <link rel="stylesheet" href="dist/html-erlang-BDSMJ657.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-EPF2X7PV.js"></script>
    <script src="dist/sidebar_items-F8C92908.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/html-J2ASZTQE.js"></script>


  </head>
  <body data-type="extras" class="page-extra">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="main">

<button class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">
  <form class="sidebar-search" action="search.html">
    <label class="search-label">
      <span class="sr-only">Search documentation of atomvm_rebar3_plugin</span>
      <input name="q" type="text" class="search-input" placeholder="Search..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
    </label>
    <button type="submit" class="search-button" aria-label="Submit Search">
      <i class="ri-search-2-line" aria-hidden="true" title="Submit search"></i>
    </button>
    <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
      <i class="ri-close-line ri-lg" title="Cancel search"></i>
    </button>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">

    <div class="sidebar-projectDetails">
      <a href="readme.html" class="sidebar-projectName" translate="no">
atomvm_rebar3_plugin
      </a>
      <div class="sidebar-projectVersion" translate="no">
        v0.7.3
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
Pages
        </button>
      </li>

        <li>
          <button id="modules-list-tab-button" role="tab" data-type="modules" aria-controls="modules-tab-panel" aria-selected="false" tabindex="-1">
            Modules
          </button>
        </li>


    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>

    <div id="modules-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="modules-list-tab-button" hidden>
      <ul id="modules-full-list" class="full-list"></ul>
    </div>


</nav>

<main class="content">
  <output role="status" id="toast"></output>
  <div class="content-outer">
    <div id="content" class="content-inner">

<h1>
<button class="icon-action display-settings">
  <i class="ri-settings-3-line"></i>
  <span class="sr-only">Settings</span>
</button>


    <a href="https://github.com/atomvm/atomvm_rebar3_plugin/blob/v0.7.3/README.md#L1" title="View Source" class="icon-action" rel="help">
      <i class="ri-code-s-slash-line" aria-hidden="true"></i>
      <span class="sr-only">View Source</span>
    </a>


  <span>atomvm_rebar3_plugin</span>
</h1>

<p>A <a href="https://rebar3.org"><code class="inline">rebar3</code></a> plugin for simplifying development of Erlang applications targeted for the <a href="http://github.com/atomvm/AtomVM">AtomVM</a> Erlang abstract machine.</p><h2 id="quick-start" class="section-heading">
  <a href="#quick-start" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Quick Start</span>
</h2>
<p>Create or edit the <code class="inline">$HOME/.config/rebar3/rebar.config</code> file to include the <a href="atomvm_rebar3_plugin.html"><code class="inline">atomvm_rebar3_plugin</code></a> <a href="https://rebar3.org"><code class="inline">rebar3</code></a> plugin:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="6104174866-1">{</span><span class="ss">plugins</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6104174866-2">[</span><span class="w">
    </span><span class="ss">atomvm_rebar3_plugin</span><span class="w">
</span><span class="p" data-group-id="6104174866-2">]</span><span class="p" data-group-id="6104174866-1">}</span><span class="p">.</span></code></pre><p>From a working directory, issue the following command:</p><pre><code class="makeup erlang" translate="no"><span class="ss">shell</span><span class="sc">$ </span><span class="ss">rebar3</span><span class="w"> </span><span class="ss">new</span><span class="w"> </span><span class="ss">atomvm_app</span><span class="w"> </span><span class="ss">myapp</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Writing</span><span class="w"> </span><span class="ss">myapp</span><span class="o">/</span><span class="p">.</span><span class="ss">gitignore</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Writing</span><span class="w"> </span><span class="ss">myapp</span><span class="o">/</span><span class="n">LICENSE</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Writing</span><span class="w"> </span><span class="ss">myapp</span><span class="o">/</span><span class="ss">rebar</span><span class="p">.</span><span class="ss">config</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Writing</span><span class="w"> </span><span class="ss">myapp</span><span class="o">/</span><span class="n">README</span><span class="p">.</span><span class="ss">md</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Writing</span><span class="w"> </span><span class="ss">myapp</span><span class="o">/</span><span class="ss">src</span><span class="o">/</span><span class="ss">myapp</span><span class="p">.</span><span class="ss">erl</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Writing</span><span class="w"> </span><span class="ss">myapp</span><span class="o">/</span><span class="ss">src</span><span class="o">/</span><span class="ss">myapp</span><span class="p">.</span><span class="ss">app</span><span class="p">.</span><span class="ss">src</span></code></pre><p>This task will create a simple <a href="https://rebar3.org"><code class="inline">rebar3</code></a> project with a minimal AtomVM application in the <code class="inline">myapp</code> directory.</p><p>Change to the <code class="inline">myapp</code> directory and issue the <code class="inline">packbeam</code> task to the <code class="inline">rebar3</code> command:</p><pre><code class="makeup erlang" translate="no"><span class="ss">shell</span><span class="sc">$ </span><span class="ss">cd</span><span class="w"> </span><span class="ss">myapp</span><span class="w">
</span><span class="ss">shell</span><span class="sc">$ </span><span class="ss">rebar3</span><span class="w"> </span><span class="ss">packbeam</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Fetching</span><span class="w"> </span><span class="ss">atomvm_rebar3_plugin</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Fetching</span><span class="w"> </span><span class="ss">packbeam</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Compiling</span><span class="w"> </span><span class="ss">packbeam</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Compiling</span><span class="w"> </span><span class="ss">atomvm_rebar3_plugin</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Verifying</span><span class="w"> </span><span class="ss">dependencies</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Compiling</span><span class="w"> </span><span class="ss">myapp</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">AVM</span><span class="w"> </span><span class="ss">file</span><span class="w"> </span><span class="ss">written</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="o">/</span><span class="ss">myapp</span><span class="o">/</span><span class="p">_</span><span class="ss">build</span><span class="o">/</span><span class="ss">default</span><span class="o">/</span><span class="ss">lib</span><span class="o">/</span><span class="ss">myapp</span><span class="p">.</span><span class="ss">avm</span></code></pre><p>An AtomVM AVM file named <code class="inline">myapp.avm</code> is created in the <code class="inline">_build/default/lib</code> directory:</p><pre><code class="makeup erlang" translate="no"><span class="ss">shell</span><span class="sc">$ </span><span class="ss">ls</span><span class="w"> </span><span class="o">-</span><span class="ss">l</span><span class="w"> </span><span class="p">_</span><span class="ss">build</span><span class="o">/</span><span class="ss">default</span><span class="o">/</span><span class="ss">lib</span><span class="o">/</span><span class="ss">myapp</span><span class="p">.</span><span class="ss">avm</span><span class="w">
</span><span class="p">-</span><span class="na">rw</span><span class="o">-</span><span class="ss">rw</span><span class="o">-</span><span class="ss">r</span><span class="o">--</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="ss">joe</span><span class="w">  </span><span class="ss">wheel</span><span class="w">  </span><span class="mi">328</span><span class="w"> </span><span class="n">Jan</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1970</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">01</span><span class="w"> </span><span class="p">_</span><span class="ss">build</span><span class="o">/</span><span class="ss">default</span><span class="o">/</span><span class="ss">lib</span><span class="o">/</span><span class="ss">myapp</span><span class="p">.</span><span class="ss">avm</span></code></pre><p>If you have it installed, you can use the <a href="https://github.com/atomvm/atomvm_packbeam"><code class="inline">packbeam</code></a> tool to list the contents of this generated file:</p><pre><code class="makeup erlang" translate="no"><span class="ss">shell</span><span class="sc">$ </span><span class="ss">packbeam</span><span class="w"> </span><span class="ss">list</span><span class="w"> </span><span class="p">_</span><span class="ss">build</span><span class="o">/</span><span class="ss">default</span><span class="o">/</span><span class="ss">lib</span><span class="o">/</span><span class="ss">myapp</span><span class="p">.</span><span class="ss">avm</span><span class="w">
</span><span class="ss">myapp</span><span class="p">.</span><span class="ss">beam</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p" data-group-id="6810303184-1">[</span><span class="mi">384</span><span class="p" data-group-id="6810303184-1">]</span><span class="w">
</span><span class="ss">myapp</span><span class="o">/</span><span class="ss">priv</span><span class="o">/</span><span class="ss">application</span><span class="p">.</span><span class="ss">bin</span><span class="w"> </span><span class="p" data-group-id="6810303184-2">[</span><span class="mi">220</span><span class="p" data-group-id="6810303184-2">]</span></code></pre><p>See the various flash tasks described below for information about how to flash the generated AVM file to your device.</p><h2 id="atomvm_rebar3_plugin-tasks" class="section-heading">
  <a href="#atomvm_rebar3_plugin-tasks" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><a href="atomvm_rebar3_plugin.html"><code class="inline">atomvm_rebar3_plugin</code></a> tasks</span>
</h2>
<p>The <a href="https://rebar3.org"><code class="inline">rebar3</code></a> plugin provides the following tasks under the <code class="inline">atomvm</code> namespace:</p><ul><li><code class="inline">packbeam</code>  Generate AtomVM packbeam files from your <a href="https://rebar3.org"><code class="inline">rebar3</code></a> project and its dependencies.</li><li><code class="inline">esp32_flash</code>  Flash AtomVM packbeam files to ESP32 devices over a serial connection.</li><li><code class="inline">stm32_flash</code>  Flash AtomVM packbeam files to STM32 devices over a serial connection.</li><li><code class="inline">uf2create</code>   Generate a u2f binary from an AtomVM packbeam file.</li><li><code class="inline">pico_flash</code>  Flash &quot;packed&quot; uf2 files to RP2040 (RPi Pico) devices by copying to FATfs.</li><li><code class="inline">version</code>  Print the version of the <a href="https://atomvm.github.io/atomvm_rebar3_plugin"><code class="inline">atomvm_rebar3_plugin</code></a> to the console.</li><li><code class="inline">bootstrap</code>  Compile Erlang files that <code class="inline">rebar3</code> otherwise cannot compile.  Typically, such files include modules from the OTP <code class="inline">kernel</code> or <code class="inline">stdlib</code> application that <code class="inline">rebar3</code> uses internally for its own implementation.</li></ul><blockquote><p>IMPORTANT!  Some of the above tasks were previously located  under the default <a href="https://rebar3.org"><code class="inline">rebar3</code></a> namespace; however, the commands under the default namespace have been DEPRECATED.  Users will get a  warning message on the console when using deprecated tasks, and any deprecated tasks may be removed in the future without warning.  Be sure to migrate any scripts or code you have to use the <code class="inline">atomvm</code> namespace.</p></blockquote><p>The tasks listed above are described in more detail below.</p><h3 id="configuration" class="section-heading">
  <a href="#configuration" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Configuration</span>
</h3>
<p>The tasks supported by this plugin support the following modes of configuration, ordered from highest to lowest in terms of their precedence:</p><ol><li>Command-line arguments</li><li><code class="inline">rebar.config</code> settings</li><li>Environment variables</li><li>Hard-wired defaults</li></ol><p>Specifically, any options defined on the command line override options by the same name in <code class="inline">rebar.config</code>, which in turn override any corresponding environment variable settings, and so forth.</p><p>Configuration items for specific tasks are described in detail below for each of the supported tasks.</p><p>Any <code class="inline">rebar.config</code> settings are defined in the project's <code class="inline">rebar.config</code> project file, and are defined as property lists under the <a href="atomvm_rebar3_plugin.html"><code class="inline">atomvm_rebar3_plugin</code></a> key.  The properties in this list are themselves property lists, using the task name as a key, with task-specific configuration for each entry.</p><p>A typical <code class="inline">rebar.config</code> entry for this plugin therefore takes the form:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="1569554955-1">{</span><span class="ss">atomvm_rebar3_plugin</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1569554955-2">[</span><span class="w">
    </span><span class="p" data-group-id="1569554955-3">{</span><span class="ss">packbeam</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1569554955-4">[</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p" data-group-id="1569554955-4">]</span><span class="p" data-group-id="1569554955-3">}</span><span class="p">,</span><span class="w">
    </span><span class="p" data-group-id="1569554955-5">{</span><span class="ss">esp32_flash</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1569554955-6">[</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p" data-group-id="1569554955-6">]</span><span class="p" data-group-id="1569554955-5">}</span><span class="p">,</span><span class="w">
    </span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="1569554955-2">]</span><span class="p" data-group-id="1569554955-1">}</span><span class="p">.</span></code></pre><p>Configuration in <code class="inline">rebar.config</code> is optional but can be useful in some cases.  For example, the flash tasks depend on the <code class="inline">packbeam</code> task, to ensure that the AVM file is up to date before flashing.  However, if the AVM file is rebuilt, the flash task has no way to tell the <code class="inline">packbeam</code> task any task-specific properties it should use as part of the rebuild.  If they are defined in <code class="inline">rebar.config</code> (or in environment variables), however, they will be used during an implicit rebuild of the AVM file.</p><h3 id="the-packbeam-task" class="section-heading">
  <a href="#the-packbeam-task" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">The <code class="inline">packbeam</code> task</span>
</h3>
<p>The <code class="inline">packbeam</code> task is used to generated an AtomVM packbeam (<code class="inline">.avm</code>) file.</p><pre><code class="makeup erlang" translate="no"><span class="ss">shell</span><span class="sc">$ </span><span class="ss">rebar3</span><span class="w"> </span><span class="ss">help</span><span class="w"> </span><span class="ss">atovm</span><span class="w"> </span><span class="ss">packbeam</span><span class="w">

</span><span class="n">Use</span><span class="w"> </span><span class="ss">this</span><span class="w"> </span><span class="ss">plugin</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="ss">create</span><span class="w"> </span><span class="ss">an</span><span class="w"> </span><span class="n">AtomVM</span><span class="w"> </span><span class="ss">packbeam</span><span class="w"> </span><span class="ss">file</span><span class="w"> </span><span class="ss">from</span><span class="w"> </span><span class="ss">your</span><span class="w"> </span><span class="ss">rebar3</span><span class="w"> </span><span class="ss">project</span><span class="p">.</span><span class="w">

</span><span class="n">Usage</span><span class="p">:</span><span class="w"> </span><span class="ss">rebar3</span><span class="w"> </span><span class="ss">atomvm</span><span class="w"> </span><span class="ss">packbeam</span><span class="w"> </span><span class="p" data-group-id="1518908003-1">[</span><span class="o">-</span><span class="ss">e</span><span class="w"> </span><span class="o">&lt;</span><span class="ss">external</span><span class="o">&gt;</span><span class="p" data-group-id="1518908003-1">]</span><span class="w"> </span><span class="p" data-group-id="1518908003-2">[</span><span class="o">-</span><span class="ss">f</span><span class="w"> </span><span class="o">&lt;</span><span class="ss">force</span><span class="o">&gt;</span><span class="p" data-group-id="1518908003-2">]</span><span class="w"> </span><span class="p" data-group-id="1518908003-3">[</span><span class="o">-</span><span class="ss">p</span><span class="w"> </span><span class="o">&lt;</span><span class="ss">prune</span><span class="o">&gt;</span><span class="p" data-group-id="1518908003-3">]</span><span class="w">
                            </span><span class="p" data-group-id="1518908003-4">[</span><span class="o">-</span><span class="ss">s</span><span class="w"> </span><span class="o">&lt;</span><span class="ss">start</span><span class="o">&gt;</span><span class="p" data-group-id="1518908003-4">]</span><span class="w"> </span><span class="p" data-group-id="1518908003-5">[</span><span class="o">-</span><span class="ss">r</span><span class="w"> </span><span class="o">&lt;</span><span class="ss">remove_lines</span><span class="o">&gt;</span><span class="p" data-group-id="1518908003-5">]</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">e</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="ss">external</span><span class="w">      </span><span class="n">External</span><span class="w"> </span><span class="n">AVM</span><span class="w"> </span><span class="ss">modules</span><span class="w">
</span><span class="p">-</span><span class="na">f</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="ss">force</span><span class="w">         </span><span class="n">Force</span><span class="w"> </span><span class="ss">rebuild</span><span class="w">
</span><span class="p">-</span><span class="na">p</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="ss">prune</span><span class="w">         </span><span class="n">Prune</span><span class="w"> </span><span class="ss">unreferenced</span><span class="w"> </span><span class="n">BEAM</span><span class="w"> </span><span class="ss">files</span><span class="w">
</span><span class="p">-</span><span class="na">s</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="ss">start</span><span class="w">         </span><span class="n">Start</span><span class="w"> </span><span class="ss">module</span><span class="w">
</span><span class="p">-</span><span class="na">r</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="ss">remove_lines</span><span class="w">  </span><span class="n">Remove</span><span class="w"> </span><span class="ss">line</span><span class="w"> </span><span class="ss">information</span><span class="w"> </span><span class="ss">from</span><span class="w"> </span><span class="ss">generated</span><span class="w"> </span><span class="n">AVM</span><span class="w"> </span><span class="nf">files</span><span class="w">
                    </span><span class="p" data-group-id="1518908003-6">(</span><span class="ss">off</span><span class="w"> </span><span class="ss">by</span><span class="w"> </span><span class="ss">default</span><span class="p" data-group-id="1518908003-6">)</span><span class="w">
</span><span class="p">-</span><span class="na">l</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="ss">list</span><span class="w">          </span><span class="n">List</span><span class="w"> </span><span class="ss">the</span><span class="w"> </span><span class="ss">contents</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">AVM</span><span class="w"> </span><span class="ss">files</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="ss">creation</span></code></pre><p>E.g.,</p><pre><code class="makeup erlang" translate="no"><span class="ss">shell</span><span class="sc">$ </span><span class="ss">rebar3</span><span class="w"> </span><span class="ss">atomvm</span><span class="w"> </span><span class="ss">packbeam</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Compiling</span><span class="w"> </span><span class="ss">packbeam</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Compiling</span><span class="w"> </span><span class="ss">atomvm_rebar3_plugin</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Compiling</span><span class="w"> </span><span class="ss">packbeam</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Verifying</span><span class="w"> </span><span class="ss">dependencies</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Compiling</span><span class="w"> </span><span class="ss">myapp</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">AVM</span><span class="w"> </span><span class="ss">file</span><span class="w"> </span><span class="ss">written</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="o">/</span><span class="ss">myapp</span><span class="o">/</span><span class="p">_</span><span class="ss">build</span><span class="o">/</span><span class="ss">default</span><span class="o">/</span><span class="ss">lib</span><span class="o">/</span><span class="ss">myapp</span><span class="p">.</span><span class="ss">avm</span></code></pre><p>When using this task, an AVM file with the project name will be created in <code class="inline">_build/&lt;profile&gt;/lib/</code>, .e.g.,</p><pre><code class="makeup erlang" translate="no"><span class="ss">shell</span><span class="sc">$ </span><span class="ss">ls</span><span class="w"> </span><span class="o">-</span><span class="ss">l</span><span class="w"> </span><span class="p">_</span><span class="ss">build</span><span class="o">/</span><span class="ss">default</span><span class="o">/</span><span class="ss">lib</span><span class="o">/</span><span class="ss">myapp</span><span class="p">.</span><span class="ss">avm</span><span class="w">
</span><span class="p">-</span><span class="na">rw</span><span class="o">-</span><span class="ss">rw</span><span class="o">-</span><span class="ss">r</span><span class="o">--</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="ss">joe</span><span class="w">  </span><span class="ss">wheel</span><span class="w">  </span><span class="mi">8780</span><span class="w"> </span><span class="n">May</span><span class="w"> </span><span class="mi">15</span><span class="w"> </span><span class="mi">1895</span><span class="w"> </span><span class="mi">22</span><span class="p">:</span><span class="mi">03</span><span class="w"> </span><span class="p">_</span><span class="ss">build</span><span class="o">/</span><span class="ss">default</span><span class="o">/</span><span class="ss">lib</span><span class="o">/</span><span class="ss">myapp</span><span class="p">.</span><span class="ss">avm</span></code></pre><p>If your project has any erlang dependencies, the <code class="inline">packbeam</code> task will include any BEAM files or <code class="inline">priv</code> files from the dependent projects in the final AVM file.</p><p>If your project (or any of its dependencies) has multiple modules that export a <code class="inline">start/0</code> entry-point function, you can specify which module to use as the entry-point for your application via the <code class="inline">--start</code> (or <code class="inline">-s</code>) option:</p><pre><code class="makeup erlang" translate="no"><span class="ss">shell</span><span class="sc">$ </span><span class="ss">rebar3</span><span class="w"> </span><span class="ss">atomvm</span><span class="w"> </span><span class="ss">packbeam</span><span class="w"> </span><span class="o">--</span><span class="ss">start</span><span class="w"> </span><span class="ss">my_start_module</span><span class="w">
</span><span class="p">.</span><span class="p">.</span><span class="p">.</span></code></pre><p>Using this option will ensure that the generated AVM file with use <code class="inline">my_start_module</code> to start the application.</p><p>You may use the <code class="inline">--prune</code> option (or <code class="inline">-p</code>) to prune unnecessary beam files when creating AVM files.  Pruning unnecessary files can make your AVM files smaller, leading to faster development cycles and more free space on flash media.  Pruning is not enabled by default.  Note that if you use the prune option, your project (or at least one of its dependencies) <em>must</em> have a <code class="inline">start/0</code> entry-point.  Otherwise, you should treat your project as a library, suitable for inclusion in a different AtomVM project.</p><p>By default, line number information is included in generated AVM files.  Including line number information is useful for debugging and locating the source of application crashes.  However, adding line number information makes AVM files larger and in some cases may have an impact on memory usage. You can remove line number information from your AVM files via the <code class="inline">--remove_lines</code> (or <code class="inline">-r</code>) flag, if, for example, you are prepared to deploy your application into production.</p><p>The <code class="inline">packbeam</code> task will use timestamps to determine whether a rebuild is necessary.  However, timestamps may not be enough to trigger a rebuild, for example, if a dependency was added or removed.  You can force a rebuild of AVM file by adding the <code class="inline">--force</code> flag (or <code class="inline">-f</code>), with no arguments.  All AVM files, including AVM files for dependencies, will be rebuilt regardless of timestamps.</p><p>If you would like to view the contents of the AVM file after you have created it, use the <code class="inline">--list</code> (of <code class="inline">-l</code>) flag to display the entries of the file on the console.  Entries which export a <code class="inline">start/0</code> function are marked with an asterisk (<code class="inline">*</code>).  All entries include their size in bytes, wrapped in square brackets (<code class="inline">[]</code>).</p><pre><code class="makeup erlang" translate="no"><span class="ss">shell</span><span class="sc">$ </span><span class="ss">rebar3</span><span class="w"> </span><span class="ss">atomvm</span><span class="w"> </span><span class="ss">packbeam</span><span class="w"> </span><span class="o">-</span><span class="ss">l</span><span class="w">
</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">AVM</span><span class="w"> </span><span class="ss">file</span><span class="w"> </span><span class="ss">written</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="o">/</span><span class="ss">myapp</span><span class="o">/</span><span class="p">_</span><span class="ss">build</span><span class="o">/</span><span class="ss">default</span><span class="o">/</span><span class="ss">lib</span><span class="o">/</span><span class="ss">myapp</span><span class="p">.</span><span class="ss">avm</span><span class="w">
</span><span class="n">AVM</span><span class="w"> </span><span class="ss">contents</span><span class="w">
</span><span class="o">==</span><span class="o">==</span><span class="o">==</span><span class="o">==</span><span class="o">==</span><span class="o">==</span><span class="w">
</span><span class="ss">myapp</span><span class="p">.</span><span class="ss">beam</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p" data-group-id="5608404093-1">[</span><span class="mi">384</span><span class="p" data-group-id="5608404093-1">]</span><span class="w">
</span><span class="ss">myapp</span><span class="o">/</span><span class="ss">priv</span><span class="o">/</span><span class="ss">application</span><span class="p">.</span><span class="ss">bin</span><span class="w"> </span><span class="p" data-group-id="5608404093-2">[</span><span class="mi">228</span><span class="p" data-group-id="5608404093-2">]</span></code></pre><p>The following table enumerates the properties that may be defined in your project's <code class="inline">rebar.config</code>
file for this task.  Use <code class="inline">packbeam</code> as the key for any properties defined for this task.</p><blockquote><p>Note that the <code class="inline">--list</code> flag is only operative when the AVM file has been written.  Use the <code class="inline">--force</code> (<code class="inline">-f</code>) flag to force a rebuild of the AVM file, if desired.</p></blockquote><table><thead><tr><th style="text-align: left;">Key</th><th style="text-align: left;">Type</th><th style="text-align: left;">Description</th></tr></thead><tbody><tr><td style="text-align: left;"><code class="inline">force</code></td><td style="text-align: left;"><code class="inline">boolean()</code></td><td style="text-align: left;">Always force a rebuild of the AVM file, even if up to date</td></tr><tr><td style="text-align: left;"><code class="inline">prune</code></td><td style="text-align: left;"><code class="inline">boolean()</code></td><td style="text-align: left;">Prune unecessary BEAM files from generated AVM</td></tr><tr><td style="text-align: left;"><code class="inline">start</code></td><td style="text-align: left;"><code class="inline">atom()</code></td><td style="text-align: left;">The start module</td></tr><tr><td style="text-align: left;"><code class="inline">remove_lines</code></td><td style="text-align: left;"><code class="inline">boolean()</code></td><td style="text-align: left;">Remove line number information from generated AVM files.</td></tr><tr><td style="text-align: left;"><code class="inline">list</code></td><td style="text-align: left;"><code class="inline">boolean()</code></td><td style="text-align: left;">List the AVM file contents when generating AVM files.</td></tr></tbody></table><p>Example:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="3768165754-1">{</span><span class="ss">atomvm_rebar3_plugin</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3768165754-2">[</span><span class="p" data-group-id="3768165754-3">{</span><span class="ss">packbeam</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3768165754-4">[</span><span class="ss">prune</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3768165754-5">{</span><span class="ss">start</span><span class="p">,</span><span class="w"> </span><span class="ss">main</span><span class="p" data-group-id="3768165754-5">}</span><span class="p" data-group-id="3768165754-4">]</span><span class="p" data-group-id="3768165754-3">}</span><span class="p" data-group-id="3768165754-2">]</span><span class="p" data-group-id="3768165754-1">}</span><span class="p">.</span></code></pre><p>Any setting specified on the command line take precedence over settings in <code class="inline">rebar.config</code>, which in turn take precedence over environment variable settings, which in turn take precedence over the default values specified above.</p><p>The <code class="inline">packbeam</code> task depends on the <a href="https://www.erlang.org/doc/man/compile.html"><code class="inline">compile</code></a> task, so any changes to modules in the project will automatically get rebuilt when running the <code class="inline">packbeam</code> task.</p><h4>External Dependencies</h4><p>If you already have AVM modules are not available via <code class="inline">rebar3</code>, you can direct the <code class="inline">packbeam</code> task to these AVM files via the <code class="inline">--external</code> (or <code class="inline">-e</code>) flag, e.g.,</p><pre><code class="makeup erlang" translate="no"><span class="ss">shell</span><span class="sc">$ </span><span class="ss">rebar3</span><span class="w"> </span><span class="ss">atomvm</span><span class="w"> </span><span class="ss">packbeam</span><span class="w"> </span><span class="o">-</span><span class="ss">e</span><span class="w"> </span><span class="o">&lt;</span><span class="ss">path</span><span class="o">-</span><span class="ss">to</span><span class="o">-</span><span class="ss">avm</span><span class="o">-</span><span class="mi">1</span><span class="o">&gt;</span><span class="w"> </span><span class="o">-</span><span class="ss">e</span><span class="w"> </span><span class="o">&lt;</span><span class="ss">path</span><span class="o">-</span><span class="ss">to</span><span class="o">-</span><span class="ss">avm</span><span class="o">-</span><span class="mi">2</span><span class="o">&gt;</span><span class="w"> </span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Fetching</span><span class="w"> </span><span class="ss">packbeam</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Compiling</span><span class="w"> </span><span class="ss">packbeam</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Compiling</span><span class="w"> </span><span class="ss">atomvm_rebar3_plugin</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Verifying</span><span class="w"> </span><span class="ss">dependencies</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Compiling</span><span class="w"> </span><span class="ss">myapp</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">AVM</span><span class="w"> </span><span class="ss">file</span><span class="w"> </span><span class="ss">written</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="o">/</span><span class="ss">myapp</span><span class="o">/</span><span class="p">_</span><span class="ss">build</span><span class="o">/</span><span class="ss">default</span><span class="o">/</span><span class="ss">lib</span><span class="o">/</span><span class="ss">myapp</span><span class="p">.</span><span class="ss">avm</span></code></pre><h4>Building OTP Applications</h4><p>You can use the <code class="inline">packbeam</code> task to build AtomVM applications that implements the OTP <a href="https://www.erlang.org/doc/man/application.html"><code class="inline">application</code></a> behavior, and the <a href="atomvm_rebar3_plugin.html"><code class="inline">atomvm_rebar3_plugin</code></a> will create an AVM file that contains boot information to start your application automatically when AtomVM starts.</p><p>For example, a module that implements the OTP <a href="https://www.erlang.org/doc/man/application.html"><code class="inline">application</code></a> behavior might look as follows:</p><pre><code class="makeup erlang" translate="no"><span class="c1">%% erlang</span><span class="w">
</span><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="7188263103-1">(</span><span class="ss">myapp_app</span><span class="p" data-group-id="7188263103-1">)</span><span class="p">.</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="7188263103-2">(</span><span class="p" data-group-id="7188263103-3">[</span><span class="ss">start</span><span class="p">/</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">stop</span><span class="p">/</span><span class="mi">1</span><span class="p" data-group-id="7188263103-3">]</span><span class="p" data-group-id="7188263103-2">)</span><span class="p">.</span><span class="w">

</span><span class="nf">start</span><span class="p" data-group-id="7188263103-4">(</span><span class="p">_</span><span class="n">Type</span><span class="p">,</span><span class="w"> </span><span class="n">Args</span><span class="p" data-group-id="7188263103-4">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="7188263103-5">(</span><span class="s">&quot;Starting myapp_app ...</span><span class="si">~n</span><span class="s">&quot;</span><span class="p" data-group-id="7188263103-5">)</span><span class="p">,</span><span class="w">
    </span><span class="nc">myapp_sup</span><span class="p">:</span><span class="nf">start</span><span class="p" data-group-id="7188263103-6">(</span><span class="n">Args</span><span class="p" data-group-id="7188263103-6">)</span><span class="p">.</span><span class="w">

</span><span class="nf">stop</span><span class="p" data-group-id="7188263103-7">(</span><span class="p">_</span><span class="n">State</span><span class="p" data-group-id="7188263103-7">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nc">myapp_sup</span><span class="p">:</span><span class="nf">stop_children</span><span class="p" data-group-id="7188263103-8">(</span><span class="p" data-group-id="7188263103-8">)</span><span class="p">.</span></code></pre><p>(assume <code class="inline">myapp_sup</code> is also a part of your OTP application).</p><p>And the application configuration file (e.g., <code class="inline">myapp.app.src</code>) should include the application mdoule (<code class="inline">myapp_app</code>) under it's <code class="inline">mod</code> entry:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="6552976999-1">{</span><span class="w">
    </span><span class="ss">application</span><span class="p">,</span><span class="w"> </span><span class="ss">myapp</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6552976999-2">[</span><span class="w">
        </span><span class="p" data-group-id="6552976999-3">{</span><span class="ss">description</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;My AtomVM application&quot;</span><span class="p" data-group-id="6552976999-3">}</span><span class="p">,</span><span class="w">
        </span><span class="p" data-group-id="6552976999-4">{</span><span class="ss">vsn</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;0.1.0&quot;</span><span class="p" data-group-id="6552976999-4">}</span><span class="p">,</span><span class="w">
        </span><span class="p" data-group-id="6552976999-5">{</span><span class="ss">registered</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6552976999-6">[</span><span class="p" data-group-id="6552976999-6">]</span><span class="p" data-group-id="6552976999-5">}</span><span class="p">,</span><span class="w">
        </span><span class="p" data-group-id="6552976999-7">{</span><span class="ss">applications</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6552976999-8">[</span><span class="w">
            </span><span class="ss">kernel</span><span class="p">,</span><span class="w">
            </span><span class="ss">stdlib</span><span class="w">
        </span><span class="p" data-group-id="6552976999-8">]</span><span class="p" data-group-id="6552976999-7">}</span><span class="p">,</span><span class="w">
        </span><span class="p" data-group-id="6552976999-9">{</span><span class="ss">env</span><span class="p">,</span><span class="p" data-group-id="6552976999-10">[</span><span class="p" data-group-id="6552976999-10">]</span><span class="p" data-group-id="6552976999-9">}</span><span class="p">,</span><span class="w">
        </span><span class="p" data-group-id="6552976999-11">{</span><span class="ss">mod</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6552976999-12">{</span><span class="ss">myapp_app</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6552976999-13">[</span><span class="p" data-group-id="6552976999-13">]</span><span class="p" data-group-id="6552976999-12">}</span><span class="p" data-group-id="6552976999-11">}</span><span class="p">,</span><span class="w">
        </span><span class="p" data-group-id="6552976999-14">{</span><span class="ss">modules</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6552976999-15">[</span><span class="p" data-group-id="6552976999-15">]</span><span class="p" data-group-id="6552976999-14">}</span><span class="p">,</span><span class="w">
        </span><span class="p" data-group-id="6552976999-16">{</span><span class="ss">licenses</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6552976999-17">[</span><span class="s">&quot;Apache-2.0&quot;</span><span class="p" data-group-id="6552976999-17">]</span><span class="p" data-group-id="6552976999-16">}</span><span class="p">,</span><span class="w">
        </span><span class="p" data-group-id="6552976999-18">{</span><span class="ss">links</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6552976999-19">[</span><span class="p" data-group-id="6552976999-19">]</span><span class="p" data-group-id="6552976999-18">}</span><span class="w">
    </span><span class="p" data-group-id="6552976999-2">]</span><span class="w">
</span><span class="p" data-group-id="6552976999-1">}</span><span class="p">.</span></code></pre><p>If you specify <a href="https://www.erlang.org/doc/man/init.html"><code class="inline">init</code></a> as the start module, then an AVM file will be created:</p><pre><code class="makeup erlang" translate="no"><span class="ss">shell</span><span class="sc">$ </span><span class="ss">rebar3</span><span class="w"> </span><span class="ss">atovm</span><span class="w"> </span><span class="ss">packbeam</span><span class="w"> </span><span class="o">-</span><span class="ss">p</span><span class="w"> </span><span class="o">-</span><span class="ss">s</span><span class="w"> </span><span class="ss">init</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Analyzing</span><span class="w"> </span><span class="ss">applications</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Compiling</span><span class="w"> </span><span class="ss">atomvm_rebar3_plugin</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Compiling</span><span class="w"> </span><span class="ss">packbeam</span><span class="w">
</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Analyzing</span><span class="w"> </span><span class="ss">applications</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Compiling</span><span class="w"> </span><span class="ss">myapp</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">AVM</span><span class="w"> </span><span class="ss">file</span><span class="w"> </span><span class="ss">written</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="o">/</span><span class="ss">myapp</span><span class="o">/</span><span class="p">_</span><span class="ss">build</span><span class="o">/</span><span class="ss">default</span><span class="o">/</span><span class="ss">lib</span><span class="o">/</span><span class="ss">myapp</span><span class="p">.</span><span class="ss">avm</span></code></pre><p>This AVM file will contain the <code class="inline">init.beam</code> module, along with a boot script (<code class="inline">init/priv/start.boot</code>), which will be used by the <code class="inline">init.beam</code> module to start your application automatically.</p><p>For example:</p><pre><code class="makeup erlang" translate="no"><span class="ss">shell</span><span class="sc">$ </span><span class="ss">packbeam</span><span class="w"> </span><span class="ss">list</span><span class="w"> </span><span class="p">_</span><span class="ss">build</span><span class="o">/</span><span class="ss">default</span><span class="o">/</span><span class="ss">lib</span><span class="o">/</span><span class="ss">myapp</span><span class="p">.</span><span class="ss">avm</span><span class="w">
</span><span class="ss">init</span><span class="p">.</span><span class="ss">beam</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p" data-group-id="0919533793-1">[</span><span class="mi">1428</span><span class="p" data-group-id="0919533793-1">]</span><span class="w">
</span><span class="ss">myapp_worker</span><span class="p">.</span><span class="ss">beam</span><span class="w"> </span><span class="p" data-group-id="0919533793-2">[</span><span class="mi">596</span><span class="p" data-group-id="0919533793-2">]</span><span class="w">
</span><span class="ss">myapp_sup</span><span class="p">.</span><span class="ss">beam</span><span class="w"> </span><span class="p" data-group-id="0919533793-3">[</span><span class="mi">572</span><span class="p" data-group-id="0919533793-3">]</span><span class="w">
</span><span class="ss">myapp_app</span><span class="p">.</span><span class="ss">beam</span><span class="w"> </span><span class="p" data-group-id="0919533793-4">[</span><span class="mi">416</span><span class="p" data-group-id="0919533793-4">]</span><span class="w">
</span><span class="ss">myapp</span><span class="o">/</span><span class="ss">priv</span><span class="o">/</span><span class="ss">application</span><span class="p">.</span><span class="ss">bin</span><span class="w"> </span><span class="p" data-group-id="0919533793-5">[</span><span class="mi">288</span><span class="p" data-group-id="0919533793-5">]</span><span class="w">
</span><span class="ss">init</span><span class="o">/</span><span class="ss">priv</span><span class="o">/</span><span class="ss">start</span><span class="p">.</span><span class="ss">boot</span><span class="w"> </span><span class="p" data-group-id="0919533793-6">[</span><span class="mi">56</span><span class="p" data-group-id="0919533793-6">]</span><span class="w">
</span><span class="ss">myapp</span><span class="o">/</span><span class="ss">priv</span><span class="o">/</span><span class="ss">example</span><span class="p">.</span><span class="ss">txt</span><span class="w"> </span><span class="p" data-group-id="0919533793-7">[</span><span class="mi">24</span><span class="p" data-group-id="0919533793-7">]</span></code></pre><p>Running this AVM file will boot the <code class="inline">myapp</code> application automatically, without having to write an entrypoint module.</p><h3 id="the-esp32-flash-task" class="section-heading">
  <a href="#the-esp32-flash-task" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">The <code class="inline">esp32-flash</code> task</span>
</h3>
<p>You may use the <code class="inline">esp32_flash</code> task to flash the generated AtomVM packbeam application to the flash storage on an ESP32 device connected over a serial connection.</p><pre><code class="makeup erlang" translate="no"><span class="ss">shell</span><span class="sc">$ </span><span class="ss">rebar3</span><span class="w"> </span><span class="ss">help</span><span class="w"> </span><span class="ss">atomvm</span><span class="w"> </span><span class="ss">esp32_flash</span><span class="w">

</span><span class="n">Use</span><span class="w"> </span><span class="ss">this</span><span class="w"> </span><span class="ss">plugin</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="ss">flash</span><span class="w"> </span><span class="ss">an</span><span class="w"> </span><span class="n">AtomVM</span><span class="w"> </span><span class="ss">packbeam</span><span class="w"> </span><span class="ss">file</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="ss">an</span><span class="w"> </span><span class="n">ESP32</span><span class="w"> </span><span class="ss">device</span><span class="p">.</span><span class="w">

</span><span class="n">Usage</span><span class="p">:</span><span class="w"> </span><span class="ss">rebar3</span><span class="w"> </span><span class="ss">atomvm</span><span class="w"> </span><span class="ss">esp32_flash</span><span class="w"> </span><span class="p" data-group-id="2072605867-1">[</span><span class="o">-</span><span class="ss">e</span><span class="w"> </span><span class="o">&lt;</span><span class="ss">esptool</span><span class="o">&gt;</span><span class="p" data-group-id="2072605867-1">]</span><span class="w"> </span><span class="p" data-group-id="2072605867-2">[</span><span class="o">-</span><span class="ss">c</span><span class="w"> </span><span class="o">&lt;</span><span class="ss">chip</span><span class="o">&gt;</span><span class="p" data-group-id="2072605867-2">]</span><span class="w"> </span><span class="p" data-group-id="2072605867-3">[</span><span class="o">-</span><span class="ss">p</span><span class="w"> </span><span class="o">&lt;</span><span class="ss">port</span><span class="o">&gt;</span><span class="p" data-group-id="2072605867-3">]</span><span class="w">
                                </span><span class="p" data-group-id="2072605867-4">[</span><span class="o">-</span><span class="ss">b</span><span class="w"> </span><span class="o">&lt;</span><span class="ss">baud</span><span class="o">&gt;</span><span class="p" data-group-id="2072605867-4">]</span><span class="w"> </span><span class="p" data-group-id="2072605867-5">[</span><span class="o">-</span><span class="ss">o</span><span class="w"> </span><span class="o">&lt;</span><span class="ss">offset</span><span class="o">&gt;</span><span class="p" data-group-id="2072605867-5">]</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">e</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="ss">esptool</span><span class="w">  </span><span class="n">Path</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="ss">esptool</span><span class="p">.</span><span class="ss">py</span><span class="w">
</span><span class="p">-</span><span class="na">c</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="ss">chip</span><span class="w">     </span><span class="n">ESP</span><span class="w"> </span><span class="nf">chip</span><span class="w"> </span><span class="p" data-group-id="2072605867-6">(</span><span class="ss">default</span><span class="w"> </span><span class="ss">auto</span><span class="p" data-group-id="2072605867-6">)</span><span class="w">
</span><span class="p">-</span><span class="na">p</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="ss">port</span><span class="w">     </span><span class="n">Device</span><span class="w"> </span><span class="nf">port</span><span class="w"> </span><span class="p" data-group-id="2072605867-7">(</span><span class="ss">default</span><span class="w"> </span><span class="o">/</span><span class="ss">dev</span><span class="o">/</span><span class="ss">ttyUSB0</span><span class="p" data-group-id="2072605867-7">)</span><span class="w">
</span><span class="p">-</span><span class="na">b</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="ss">baud</span><span class="w">     </span><span class="n">Baud</span><span class="w"> </span><span class="nf">rate</span><span class="w"> </span><span class="p" data-group-id="2072605867-8">(</span><span class="ss">default</span><span class="w"> </span><span class="mi">115200</span><span class="p" data-group-id="2072605867-8">)</span><span class="w">
</span><span class="p">-</span><span class="na">o</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="ss">offset</span><span class="w">   </span><span class="n">Offset</span><span class="w"> </span><span class="p" data-group-id="2072605867-9">(</span><span class="ss">default</span><span class="w"> </span><span class="mi">0</span><span class="ss">x210000</span><span class="p" data-group-id="2072605867-9">)</span></code></pre><p>The <code class="inline">esp32_flash</code> task will use the <code class="inline">esptool.py</code> command to flash the ESP32 device.  This tool is available via the &lt;a href=&quot;<a href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32/%22">https://docs.espressif.com/projects/esp-idf/en/latest/esp32/&quot;</a>&gt;IDF SDK&lt;/a&gt;, or directly via &lt;a href=&quot;<a href="https://github.com/espressif/esptool%22">https://github.com/espressif/esptool&quot;</a>&gt;github&lt;/a&gt;.  The <code class="inline">esptool.py</code> command is also available via many package managers (e.g., MacOS Homebrew).</p><p>By default, the <code class="inline">esp32_flash</code> task will assume the <code class="inline">esptool.py</code> command is available on the user's executable path.  Alternatively, you may specify the full path to the <code class="inline">esptool.py</code> command via the <code class="inline">-e</code> (or <code class="inline">--esptool</code>) option</p><p>By default, the <code class="inline">esp32_flash</code> task will write to port <code class="inline">/dev/ttyUSB0</code> at a baud rate of <code class="inline">115200</code>.  You may control the port and baud settings for connecting to your ESP device via the <code class="inline">-port</code> and <code class="inline">-baud</code> options to the <code class="inline">esp32_flash</code> task, e.g.,</p><pre><code class="makeup erlang" translate="no"><span class="ss">shell</span><span class="sc">$ </span><span class="ss">rebar3</span><span class="w"> </span><span class="ss">atomvm</span><span class="w"> </span><span class="ss">esp32_flash</span><span class="w"> </span><span class="o">--</span><span class="ss">port</span><span class="w"> </span><span class="o">/</span><span class="ss">dev</span><span class="o">/</span><span class="ss">tty</span><span class="p">.</span><span class="n">SLAB_USBtoUART</span><span class="w"> </span><span class="o">--</span><span class="ss">baud</span><span class="w"> </span><span class="mi">921600</span><span class="w">
</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="ss">esptool</span><span class="p">.</span><span class="ss">py</span><span class="w"> </span><span class="o">--</span><span class="ss">chip</span><span class="w"> </span><span class="ss">esp32</span><span class="w"> </span><span class="o">--</span><span class="ss">port</span><span class="w"> </span><span class="o">/</span><span class="ss">dev</span><span class="o">/</span><span class="ss">tty</span><span class="p">.</span><span class="n">SLAB_USBtoUART</span><span class="w"> </span><span class="o">--</span><span class="ss">baud</span><span class="w"> </span><span class="mi">921600</span><span class="w"> </span><span class="o">--</span><span class="ss">before</span><span class="w"> </span><span class="ss">default_reset</span><span class="w"> </span><span class="o">--</span><span class="k">after</span><span class="w"> </span><span class="ss">hard_reset</span><span class="w"> </span><span class="ss">write_flash</span><span class="w"> </span><span class="o">-</span><span class="ss">u</span><span class="w"> </span><span class="o">--</span><span class="ss">flash_mode</span><span class="w"> </span><span class="ss">dio</span><span class="w"> </span><span class="o">--</span><span class="ss">flash_freq</span><span class="w"> </span><span class="mi">40</span><span class="ss">m</span><span class="w"> </span><span class="o">--</span><span class="ss">flash_size</span><span class="w"> </span><span class="ss">detect</span><span class="w"> </span><span class="mi">0</span><span class="ss">x110000</span><span class="w"> </span><span class="o">/</span><span class="ss">home</span><span class="o">/</span><span class="ss">joe</span><span class="o">/</span><span class="ss">myapp</span><span class="o">/</span><span class="p">_</span><span class="ss">build</span><span class="o">/</span><span class="ss">default</span><span class="o">/</span><span class="ss">lib</span><span class="o">/</span><span class="ss">myapp</span><span class="p">.</span><span class="ss">avm</span><span class="w">
</span><span class="ss">esptool</span><span class="p">.</span><span class="ss">py</span><span class="w"> </span><span class="ss">v2</span><span class="p">.</span><span class="mi">1</span><span class="w">
</span><span class="n">Connecting</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p">_</span><span class="w">
</span><span class="n">Chip</span><span class="w"> </span><span class="ss">is</span><span class="w"> </span><span class="n">ESP32D0WDQ6</span><span class="w"> </span><span class="p" data-group-id="8294430313-1">(</span><span class="ss">revision</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="8294430313-1">)</span><span class="w">
</span><span class="n">Uploading</span><span class="w"> </span><span class="ss">stub</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
</span><span class="n">Running</span><span class="w"> </span><span class="ss">stub</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
</span><span class="n">Stub</span><span class="w"> </span><span class="ss">running</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
</span><span class="n">Changing</span><span class="w"> </span><span class="ss">baud</span><span class="w"> </span><span class="ss">rate</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="mi">921600</span><span class="w">
</span><span class="n">Changed</span><span class="p">.</span><span class="w">
</span><span class="n">Configuring</span><span class="w"> </span><span class="ss">flash</span><span class="w"> </span><span class="nb">size</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
</span><span class="n">Auto</span><span class="o">-</span><span class="ss">detected</span><span class="w"> </span><span class="n">Flash</span><span class="w"> </span><span class="nc">size</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="n">MB</span><span class="w">
</span><span class="n">Wrote</span><span class="w"> </span><span class="mi">16384</span><span class="w"> </span><span class="ss">bytes</span><span class="w"> </span><span class="ss">at</span><span class="w"> </span><span class="mi">0</span><span class="ss">x00110000</span><span class="w"> </span><span class="ss">in</span><span class="w"> </span><span class="mf">0.2</span><span class="w"> </span><span class="nf">seconds</span><span class="w"> </span><span class="p" data-group-id="8294430313-2">(</span><span class="mf">615.0</span><span class="w"> </span><span class="ss">kbit</span><span class="o">/</span><span class="ss">s</span><span class="p" data-group-id="8294430313-2">)</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
</span><span class="n">Hash</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="ss">data</span><span class="w"> </span><span class="ss">verified</span><span class="p">.</span><span class="w">

</span><span class="n">Leaving</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
</span><span class="n">Hard</span><span class="w"> </span><span class="ss">resetting</span><span class="p">.</span><span class="p">.</span><span class="p">.</span></code></pre><p>The following table enumerates the properties that may be defined in your project's <code class="inline">rebar.config</code> file for this task.  Use <code class="inline">esp32_flash</code> as the key for any properties defined for this task.</p><table><thead><tr><th style="text-align: left;">Key</th><th style="text-align: left;">Type</th><th style="text-align: left;">Description</th></tr></thead><tbody><tr><td style="text-align: left;"><code class="inline">esptool</code></td><td style="text-align: left;"><code class="inline">string()</code></td><td style="text-align: left;">Path to the <code class="inline">esptool.py</code> tool, if not already in user's <code class="inline">PATH</code></td></tr><tr><td style="text-align: left;"><code class="inline">chip</code></td><td style="text-align: left;"><code class="inline">string()</code></td><td style="text-align: left;">ESP32 chipt type</td></tr><tr><td style="text-align: left;"><code class="inline">port</code></td><td style="text-align: left;"><code class="inline">string()</code></td><td style="text-align: left;">Device port on which the ESP32 can be located</td></tr><tr><td style="text-align: left;"><code class="inline">baud</code></td><td style="text-align: left;"><code class="inline">integer()</code></td><td style="text-align: left;">Device BAUD rate</td></tr><tr><td style="text-align: left;"><code class="inline">offset</code></td><td style="text-align: left;"><code class="inline">string()</code></td><td style="text-align: left;">Offset into which to write AtomVM application</td></tr></tbody></table><p>Example:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="7138266125-1">{</span><span class="ss">atomvm_rebar3_plugin</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7138266125-2">[</span><span class="p" data-group-id="7138266125-3">{</span><span class="ss">esp32_flash</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7138266125-4">[</span><span class="p" data-group-id="7138266125-5">{</span><span class="ss">baud</span><span class="p">,</span><span class="w"> </span><span class="mi">921600</span><span class="p" data-group-id="7138266125-5">}</span><span class="p" data-group-id="7138266125-4">]</span><span class="p" data-group-id="7138266125-3">}</span><span class="p" data-group-id="7138266125-2">]</span><span class="p" data-group-id="7138266125-1">}</span><span class="p">.</span></code></pre><p>Alternatively, the following environment variables may be used to control the above settings:</p><ul><li><code class="inline">ATOMVM_REBAR3_PLUGIN_ESP32_FLASH_ESPTOOL</code></li><li><code class="inline">ATOMVM_REBAR3_PLUGIN_ESP32_FLASH_CHIP</code></li><li><code class="inline">ATOMVM_REBAR3_PLUGIN_ESP32_FLASH_PORT</code></li><li><code class="inline">ATOMVM_REBAR3_PLUGIN_ESP32_FLASH_BAUD</code></li><li><code class="inline">ATOMVM_REBAR3_PLUGIN_ESP32_FLASH_OFFSET</code></li></ul><p>Any setting specified on the command line take precedence over settings in <code class="inline">rebar.config</code>, which in turn take precedence over environment variable settings, which in turn take precedence over the default values specified above.</p><p>The <code class="inline">esp32_flash</code> task depends on the <code class="inline">packbeam</code> task, so the packbeam file will get automatically built if any changes have been made to its dependencies.</p><h3 id="the-stm32_flash-task" class="section-heading">
  <a href="#the-stm32_flash-task" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">The <code class="inline">stm32_flash</code> task</span>
</h3>
<p>You may use the <code class="inline">stm32_flash</code> task to flash the generated AtomVM packbeam application to the flash storage on an STM32 device connected to an st-link.</p><h4>Preparing an application for flashing</h4><p>The stm32 builds of AtomVM do not include a library partition and the <a href="https://github.com/atomvm/AtomVM">AtomVM</a> <code class="inline">atomvmlib.avm</code> core library is not flashed to the device. Instead the application should be compiled and packed along with <code class="inline">atomvmlib.avm</code> before flashing, for example:</p><pre><code class="makeup erlang" translate="no"><span class="ss">shell</span><span class="sc">$ </span><span class="ss">rebar3</span><span class="w"> </span><span class="ss">atomvm</span><span class="w"> </span><span class="ss">packbeam</span><span class="w"> </span><span class="o">-</span><span class="ss">p</span><span class="w"> </span><span class="o">-</span><span class="ss">e</span><span class="w"> </span><span class="o">/</span><span class="ss">path</span><span class="o">/</span><span class="ss">to</span><span class="o">/</span><span class="ss">atomvmlib</span><span class="p">.</span><span class="ss">avm</span></code></pre><p>You can acquire the latest <a href="https://github.com/atomvm/AtomVM">AtomVM</a> <code class="inline">atomvmlib.avm</code> core library from the <a href="https://github.com/atomvm/AtomVM/releases">Release</a> section of the <a href="https://github.com/atomvm/AtomVM">AtomVM</a> Github repository.  Note that the version of the <code class="inline">atomvmlib.avm</code> core library <em>must</em> match the version of the <a href="https://github.com/atomvm/AtomVM">AtomVM</a> virtual machine image you have flashed to the device.</p><h4>Flashing an application to a stm32 device</h4><p>You may use the <code class="inline">stm32_flash</code> task to flash the generated AtomVM packbeam application to the flash storage on an STM32 device connected to an st-link.</p><pre><code class="makeup erlang" translate="no"><span class="ss">shell</span><span class="sc">$ </span><span class="ss">rebar3</span><span class="w"> </span><span class="ss">help</span><span class="w"> </span><span class="ss">atomvm</span><span class="w"> </span><span class="ss">stm32_flash</span><span class="w">

</span><span class="n">Use</span><span class="w"> </span><span class="ss">this</span><span class="w"> </span><span class="ss">plugin</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="ss">flash</span><span class="w"> </span><span class="ss">an</span><span class="w"> </span><span class="n">AtomVM</span><span class="w"> </span><span class="ss">packbeam</span><span class="w"> </span><span class="ss">file</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="ss">an</span><span class="w"> </span><span class="n">STM32</span><span class="w"> </span><span class="ss">device</span><span class="p">.</span><span class="w">

</span><span class="n">Usage</span><span class="p">:</span><span class="w"> </span><span class="ss">rebar3</span><span class="w"> </span><span class="ss">atomvm</span><span class="w"> </span><span class="ss">stm32_flash</span><span class="w"> </span><span class="p" data-group-id="6627846921-1">[</span><span class="o">-</span><span class="ss">s</span><span class="w"> </span><span class="o">&lt;</span><span class="ss">stflash</span><span class="o">&gt;</span><span class="p" data-group-id="6627846921-1">]</span><span class="w"> </span><span class="p" data-group-id="6627846921-2">[</span><span class="o">-</span><span class="ss">o</span><span class="w"> </span><span class="o">&lt;</span><span class="ss">offset</span><span class="o">&gt;</span><span class="p" data-group-id="6627846921-2">]</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">s</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="ss">stflash</span><span class="w">  </span><span class="n">Path</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="ss">st</span><span class="o">-</span><span class="ss">flash</span><span class="w">
</span><span class="p">-</span><span class="na">o</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="ss">offset</span><span class="w">   </span><span class="n">Offset</span><span class="w"> </span><span class="p" data-group-id="6627846921-3">(</span><span class="ss">default</span><span class="w"> </span><span class="mi">0</span><span class="ss">x8080000</span><span class="p" data-group-id="6627846921-3">)</span></code></pre><p>The <code class="inline">stm32_flash</code> will use the <code class="inline">st-flash</code> tool from the open source (bsd-3 liscensed) <a href="https://github.com/stlink-org/stlink">stlink</a> suite of stm32 utilites to flash the STM32 device. This tool is available on <a href="https://github.com/stlink-org/stlink">github</a>, and in many package managers.</p><p>By default, the <code class="inline">stm32_flash</code> task will assume the <code class="inline">st-flash</code> command is available on the user's executable path.  Alternatively, you may specify the full path to the <code class="inline">st-flash</code> command via the <code class="inline">-s</code> (or <code class="inline">--stflash</code>) option</p><pre><code class="makeup erlang" translate="no"><span class="ss">shell</span><span class="sc">$ </span><span class="ss">rebar3</span><span class="w"> </span><span class="ss">atomvm</span><span class="w"> </span><span class="ss">stm32_flash</span><span class="w"> </span><span class="o">--</span><span class="ss">stflash</span><span class="w"> </span><span class="o">/</span><span class="ss">usr</span><span class="o">/</span><span class="ss">bin</span><span class="o">/</span><span class="ss">st</span><span class="o">-</span><span class="ss">flash</span><span class="w"> </span><span class="o">--</span><span class="ss">offset</span><span class="w"> </span><span class="mi">0</span><span class="ss">x8080000</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Verifying</span><span class="w"> </span><span class="ss">dependencies</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Analyzing</span><span class="w"> </span><span class="ss">applications</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Compiling</span><span class="w"> </span><span class="ss">stm32_hello</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="ss">st</span><span class="o">-</span><span class="ss">flash</span><span class="w"> </span><span class="o">--</span><span class="ss">reset</span><span class="w"> </span><span class="ss">write</span><span class="w"> </span><span class="o">/</span><span class="ss">home</span><span class="o">/</span><span class="ss">atomvm</span><span class="o">/</span><span class="n">AtomVM</span><span class="o">/</span><span class="ss">stm32_hello</span><span class="o">/</span><span class="p">_</span><span class="ss">build</span><span class="o">/</span><span class="ss">default</span><span class="o">/</span><span class="ss">lib</span><span class="o">/</span><span class="ss">stm32_hello</span><span class="p">.</span><span class="ss">avm</span><span class="w"> </span><span class="mi">0</span><span class="ss">x8080000</span><span class="w">

</span><span class="ss">st</span><span class="o">-</span><span class="ss">flash</span><span class="w"> </span><span class="mf">1.7</span><span class="p">.</span><span class="mi">0</span><span class="w">
</span><span class="mi">2023</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">09</span><span class="n">T21</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">26</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="ss">common</span><span class="p">.</span><span class="nc">c</span><span class="p">:</span><span class="w"> </span><span class="n">F42x</span><span class="o">/</span><span class="n">F43x</span><span class="p">:</span><span class="w"> </span><span class="mi">256</span><span class="w"> </span><span class="n">KiB</span><span class="w"> </span><span class="n">SRAM</span><span class="p">,</span><span class="w"> </span><span class="mi">2048</span><span class="w"> </span><span class="n">KiB</span><span class="w"> </span><span class="ss">flash</span><span class="w"> </span><span class="ss">in</span><span class="w"> </span><span class="ss">at</span><span class="w"> </span><span class="ss">least</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="n">KiB</span><span class="w"> </span><span class="ss">pages</span><span class="p">.</span><span class="w">
</span><span class="ss">file</span><span class="w"> </span><span class="o">/</span><span class="ss">home</span><span class="o">/</span><span class="ss">atomvm</span><span class="o">/</span><span class="n">AtomVM</span><span class="o">/</span><span class="ss">stm32_hello</span><span class="o">/</span><span class="p">_</span><span class="ss">build</span><span class="o">/</span><span class="ss">default</span><span class="o">/</span><span class="ss">lib</span><span class="o">/</span><span class="ss">stm32_hello</span><span class="p">.</span><span class="ss">avm</span><span class="w"> </span><span class="nb">md5</span><span class="w"> </span><span class="nc">checksum</span><span class="p">:</span><span class="w"> </span><span class="mi">5747</span><span class="ss">b8eab41a3696097eb386c785e</span><span class="p">,</span><span class="w"> </span><span class="ss">stlink</span><span class="w"> </span><span class="nc">checksum</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="ss">x00154e50</span><span class="w">
</span><span class="mi">2023</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">09</span><span class="n">T21</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">26</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="ss">common</span><span class="p">.</span><span class="nc">c</span><span class="p">:</span><span class="w"> </span><span class="n">Attempting</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="ss">write</span><span class="w"> </span><span class="mi">29304</span><span class="w"> </span><span class="p" data-group-id="3910849213-1">(</span><span class="mi">0</span><span class="ss">x7278</span><span class="p" data-group-id="3910849213-1">)</span><span class="w"> </span><span class="ss">bytes</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="ss">stm32</span><span class="w"> </span><span class="nc">address</span><span class="p">:</span><span class="w"> </span><span class="mi">134742016</span><span class="w"> </span><span class="p" data-group-id="3910849213-2">(</span><span class="mi">0</span><span class="ss">x8080000</span><span class="p" data-group-id="3910849213-2">)</span><span class="w">
</span><span class="n">EraseFlash</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Sector</span><span class="p">:</span><span class="mi">0</span><span class="ss">x8</span><span class="w"> </span><span class="n">Size</span><span class="p">:</span><span class="mi">0</span><span class="ss">x20000</span><span class="w"> </span><span class="mi">2023</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">09</span><span class="n">T21</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">28</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="ss">common</span><span class="p">.</span><span class="nc">c</span><span class="p">:</span><span class="w"> </span><span class="n">Flash</span><span class="w"> </span><span class="ss">page</span><span class="w"> </span><span class="ss">at</span><span class="w"> </span><span class="nc">addr</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="ss">x08080000</span><span class="w"> </span><span class="ss">erased</span><span class="w">
</span><span class="mi">2023</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">09</span><span class="n">T21</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">28</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="ss">common</span><span class="p">.</span><span class="nc">c</span><span class="p">:</span><span class="w"> </span><span class="n">Finished</span><span class="w"> </span><span class="ss">erasing</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="ss">pages</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="mi">131072</span><span class="w"> </span><span class="p" data-group-id="3910849213-3">(</span><span class="mi">0</span><span class="ss">x20000</span><span class="p" data-group-id="3910849213-3">)</span><span class="w"> </span><span class="ss">bytes</span><span class="w">
</span><span class="mi">2023</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">09</span><span class="n">T21</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">28</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="ss">common</span><span class="p">.</span><span class="nc">c</span><span class="p">:</span><span class="w"> </span><span class="n">Starting</span><span class="w"> </span><span class="n">Flash</span><span class="w"> </span><span class="ss">write</span><span class="w"> </span><span class="ss">for</span><span class="w"> </span><span class="n">F2</span><span class="o">/</span><span class="n">F4</span><span class="o">/</span><span class="n">F7</span><span class="o">/</span><span class="n">L4</span><span class="w">
</span><span class="mi">2023</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">09</span><span class="n">T21</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">28</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="ss">flash_loader</span><span class="p">.</span><span class="nc">c</span><span class="p">:</span><span class="w"> </span><span class="n">Successfully</span><span class="w"> </span><span class="ss">loaded</span><span class="w"> </span><span class="ss">flash</span><span class="w"> </span><span class="ss">loader</span><span class="w"> </span><span class="ss">in</span><span class="w"> </span><span class="ss">sram</span><span class="w">
</span><span class="mi">2023</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">09</span><span class="n">T21</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">28</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="ss">flash_loader</span><span class="p">.</span><span class="nc">c</span><span class="p">:</span><span class="w"> </span><span class="n">Clear</span><span class="w"> </span><span class="n">DFSR</span><span class="w">
</span><span class="mi">2023</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">09</span><span class="n">T21</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">28</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="ss">common</span><span class="p">.</span><span class="nc">c</span><span class="p">:</span><span class="w"> </span><span class="ss">enabling</span><span class="w"> </span><span class="mi">32</span><span class="o">-</span><span class="ss">bit</span><span class="w"> </span><span class="ss">flash</span><span class="w"> </span><span class="ss">writes</span><span class="w">
</span><span class="mi">2023</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">09</span><span class="n">T21</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">29</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="ss">common</span><span class="p">.</span><span class="nc">c</span><span class="p">:</span><span class="w"> </span><span class="n">Starting</span><span class="w"> </span><span class="ss">verification</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="ss">write</span><span class="w"> </span><span class="ss">complete</span><span class="w">
</span><span class="mi">2023</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">09</span><span class="n">T21</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">29</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="ss">common</span><span class="p">.</span><span class="nc">c</span><span class="p">:</span><span class="w"> </span><span class="n">Flash</span><span class="w"> </span><span class="ss">written</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ss">verified</span><span class="o">!</span><span class="w"> </span><span class="ss">jolly</span><span class="w"> </span><span class="ss">good</span><span class="o">!</span></code></pre><p>The following table enumerates the properties that may be defined in your project's <code class="inline">rebar.config</code> file for this task.  Use <code class="inline">stm32_flash</code> as the key for any properties defined for this task.</p><table><thead><tr><th style="text-align: left;">Key</th><th style="text-align: left;">Type</th><th style="text-align: left;">Description</th></tr></thead><tbody><tr><td style="text-align: left;"><code class="inline">stflash</code></td><td style="text-align: left;"><code class="inline">string()</code></td><td style="text-align: left;">Path to the <code class="inline">st-flash</code> tool, if not already in user's <code class="inline">PATH</code></td></tr><tr><td style="text-align: left;"><code class="inline">offset</code></td><td style="text-align: left;"><code class="inline">string()</code></td><td style="text-align: left;">Offset into which to write AtomVM application</td></tr></tbody></table><p>Example:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="4489343866-1">{</span><span class="ss">atomvm_rebar3_plugin</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4489343866-2">[</span><span class="p" data-group-id="4489343866-3">{</span><span class="ss">stm32_flash</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4489343866-4">[</span><span class="p" data-group-id="4489343866-5">{</span><span class="ss">offset</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;0x230000&quot;</span><span class="p" data-group-id="4489343866-5">}</span><span class="p" data-group-id="4489343866-4">]</span><span class="p" data-group-id="4489343866-3">}</span><span class="p" data-group-id="4489343866-2">]</span><span class="p" data-group-id="4489343866-1">}</span><span class="p">.</span></code></pre><p>Alternatively, the following environment variables may be used to control the above settings:</p><ul><li><code class="inline">ATOMVM_REBAR3_PLUGIN_STM32_STFLASH</code></li><li><code class="inline">ATOMVM_REBAR3_PLUGIN_STM32_FLASH_OFFSET</code></li></ul><p>Any setting specified on the command line take precedence over entries in <code class="inline">rebar.config</code>, which in turn take precedence over environment variable settings, which in turn take precedence over the default values specified above.</p><p>The <code class="inline">stm32_flash</code> task depends on the <code class="inline">packbeam</code> task, so the packbeam file will get automatically built if any changes have been made to its dependencies.</p><h3 id="the-pico_flash-task" class="section-heading">
  <a href="#the-pico_flash-task" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">The <code class="inline">pico_flash</code> task</span>
</h3>
<h4>Flashing an application to a pico (rp2040) device</h4><p>You may use the <code class="inline">pico_flash</code> task to copy the generated AtomVM packbeam application in uf2 format to the flash storage on an Pico device connected to usb. It is not necessary to push the <code class="inline">BOOTSEL</code> button while plugging in the Pico to usb, instead provide the path of the device to reset. On Linux this is typically <code class="inline">/dev/ttyACM0</code> (the same device used to monitor serial), on MacOS it is a cu.usbmodem device matching <code class="inline">/dev/cu.usbmodem14*</code> (not the /dev/tty.usbmodem14<em>_</em> device used for serial monitoring).</p><pre><code class="makeup erlang" translate="no"><span class="ss">shell</span><span class="sc">$ </span><span class="ss">rebar3</span><span class="w"> </span><span class="ss">help</span><span class="w"> </span><span class="ss">atomvm</span><span class="w"> </span><span class="ss">pico_flash</span><span class="w">

</span><span class="n">Use</span><span class="w"> </span><span class="ss">this</span><span class="w"> </span><span class="ss">plugin</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="ss">convert</span><span class="w"> </span><span class="ss">an</span><span class="w"> </span><span class="n">AtomVM</span><span class="w"> </span><span class="ss">packbeam</span><span class="w"> </span><span class="ss">file</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="ss">a</span><span class="w"> </span><span class="ss">rp2040</span><span class="w"> </span><span class="ss">a</span><span class="w"> </span><span class="ss">uf2</span><span class="w"> </span><span class="ss">file</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ss">copy</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="ss">an</span><span class="w"> </span><span class="ss">rp2040</span><span class="w"> </span><span class="ss">devices</span><span class="p">.</span><span class="w">

</span><span class="n">Usage</span><span class="p">:</span><span class="w"> </span><span class="ss">rebar3</span><span class="w"> </span><span class="ss">atomvm</span><span class="w"> </span><span class="ss">pico_flash</span><span class="w"> </span><span class="p" data-group-id="8659517764-1">[</span><span class="o">-</span><span class="ss">p</span><span class="w"> </span><span class="o">&lt;</span><span class="ss">path</span><span class="o">&gt;</span><span class="p" data-group-id="8659517764-1">]</span><span class="w"> </span><span class="p" data-group-id="8659517764-2">[</span><span class="o">-</span><span class="ss">r</span><span class="w"> </span><span class="o">&lt;</span><span class="ss">reset</span><span class="o">&gt;</span><span class="p" data-group-id="8659517764-2">]</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">p</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="ss">path</span><span class="w">   </span><span class="n">Path</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="ss">pico</span><span class="w"> </span><span class="nf">device</span><span class="w"> </span><span class="p" data-group-id="8659517764-3">(</span><span class="n">Defaults</span><span class="w"> </span><span class="n">Linux</span><span class="p">:</span><span class="w">
            </span><span class="o">/</span><span class="ss">run</span><span class="o">/</span><span class="ss">media</span><span class="o">/</span><span class="sc">${</span><span class="n">USER</span><span class="p">}</span><span class="o">/</span><span class="n">RPI</span><span class="o">-</span><span class="n">RP2</span><span class="p">,</span><span class="w"> </span><span class="n">MacOS</span><span class="p">:</span><span class="w"> </span><span class="o">/</span><span class="n">Volumes</span><span class="o">/</span><span class="n">RPI</span><span class="o">-</span><span class="n">RP2</span><span class="p" data-group-id="8659517764-3">)</span><span class="w">
</span><span class="p">-</span><span class="na">r</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="ss">reset</span><span class="w">  </span><span class="n">Path</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="ss">serial</span><span class="w"> </span><span class="ss">device</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="ss">reset</span><span class="w"> </span><span class="ss">before</span><span class="w"> </span><span class="nf">flashing</span><span class="w"> </span><span class="p" data-group-id="8659517764-4">(</span><span class="n">Defaults</span><span class="w">
            </span><span class="n">Linux</span><span class="p">:</span><span class="w"> </span><span class="o">/</span><span class="ss">dev</span><span class="o">/</span><span class="ss">ttyACM0</span><span class="p">,</span><span class="w"> </span><span class="n">MacOS</span><span class="p">:</span><span class="w"> </span><span class="o">/</span><span class="ss">dev</span><span class="o">/</span><span class="ss">cu</span><span class="p">.</span><span class="ss">usbmodem14</span><span class="o">*</span><span class="p" data-group-id="8659517764-4">)</span></code></pre><p>The <code class="inline">pico_flash</code> task depends on the <code class="inline">uf2create</code> task which in turn depends on <code class="inline">packbeam</code>, so in most cases it is not necessary to execute either of those tasks if the default settings are used, as any changes to modules in the project will get rebuilt before being flashed to the device.</p><pre><code class="makeup erlang" translate="no"><span class="ss">shell</span><span class="sc">$ </span><span class="ss">rebar3</span><span class="w"> </span><span class="ss">atomvm</span><span class="w"> </span><span class="ss">pico_flash</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Fetching</span><span class="w"> </span><span class="ss">atomvm_rebar3_plugin</span><span class="w"> </span><span class="ss">v0</span><span class="p">.</span><span class="mf">7.3</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Fetching</span><span class="w"> </span><span class="ss">rebar3_hex</span><span class="w"> </span><span class="ss">v7</span><span class="p">.</span><span class="mf">0.6</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Fetching</span><span class="w"> </span><span class="ss">hex_core</span><span class="w"> </span><span class="ss">v0</span><span class="p">.</span><span class="mf">8.4</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Fetching</span><span class="w"> </span><span class="ss">verl</span><span class="w"> </span><span class="ss">v1</span><span class="p">.</span><span class="mf">1.1</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Analyzing</span><span class="w"> </span><span class="ss">applications</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Compiling</span><span class="w"> </span><span class="ss">hex_core</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Compiling</span><span class="w"> </span><span class="ss">verl</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Compiling</span><span class="w"> </span><span class="ss">rebar3_hex</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Fetching</span><span class="w"> </span><span class="ss">atomvm_packbeam</span><span class="w"> </span><span class="ss">v0</span><span class="p">.</span><span class="mf">6.0</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Fetching</span><span class="w"> </span><span class="ss">rebar3_proper</span><span class="w"> </span><span class="ss">v0</span><span class="p">.</span><span class="mf">12.1</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Analyzing</span><span class="w"> </span><span class="ss">applications</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Compiling</span><span class="w"> </span><span class="ss">rebar3_proper</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Analyzing</span><span class="w"> </span><span class="ss">applications</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Compiling</span><span class="w"> </span><span class="ss">packbeam</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Compiling</span><span class="w"> </span><span class="ss">atomvm_rebar3_plugin</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Verifying</span><span class="w"> </span><span class="ss">dependencies</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Analyzing</span><span class="w"> </span><span class="ss">applications</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Compiling</span><span class="w"> </span><span class="ss">hello_world</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">AVM</span><span class="w"> </span><span class="ss">file</span><span class="w"> </span><span class="ss">written</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="o">/</span><span class="ss">home</span><span class="o">/</span><span class="ss">joe</span><span class="o">/</span><span class="ss">projects</span><span class="o">/</span><span class="ss">hello_world</span><span class="o">/</span><span class="p">_</span><span class="ss">build</span><span class="o">/</span><span class="ss">default</span><span class="o">/</span><span class="ss">lib</span><span class="o">/</span><span class="ss">hello_world</span><span class="o">/</span><span class="ss">hello_world</span><span class="p">.</span><span class="ss">avm</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Resetting</span><span class="w"> </span><span class="ss">device</span><span class="w"> </span><span class="ss">at</span><span class="w"> </span><span class="ss">path</span><span class="w"> </span><span class="o">/</span><span class="ss">dev</span><span class="o">/</span><span class="ss">ttyACM0</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Waiting</span><span class="w"> </span><span class="ss">for</span><span class="w"> </span><span class="ss">the</span><span class="w"> </span><span class="ss">device</span><span class="w"> </span><span class="ss">at</span><span class="w"> </span><span class="ss">path</span><span class="w"> </span><span class="o">/</span><span class="ss">run</span><span class="o">/</span><span class="ss">media</span><span class="o">/</span><span class="sc">${</span><span class="n">USER</span><span class="p">}</span><span class="o">/</span><span class="n">RPI</span><span class="o">-</span><span class="n">RP2</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="ss">settle</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ss">mount</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Copying</span><span class="w"> </span><span class="o">/</span><span class="ss">home</span><span class="o">/</span><span class="ss">joe</span><span class="o">/</span><span class="ss">projects</span><span class="o">/</span><span class="ss">hello</span><span class="o">/</span><span class="p">_</span><span class="ss">build</span><span class="o">/</span><span class="ss">default</span><span class="o">/</span><span class="ss">lib</span><span class="o">/</span><span class="ss">hello</span><span class="p">.</span><span class="ss">uf2</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="o">/</span><span class="ss">run</span><span class="o">/</span><span class="ss">media</span><span class="o">/</span><span class="sc">${</span><span class="n">USER</span><span class="p">}</span><span class="o">/</span><span class="n">RPI</span><span class="o">-</span><span class="n">RP2</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">

</span><span class="ss">&#39;/home/joe/projects/hello_world/_build/default/lib/hello_world.uf2&#39;</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="ss">&#39;/run/media/joe/RPI-RP2/hello_world.uf2&#39;</span></code></pre><p>If your pico uses a different device path or mount directory supply the full path needed for your device:</p><pre><code class="makeup erlang" translate="no"><span class="ss">shell</span><span class="sc">$ </span><span class="ss">rebar3</span><span class="w"> </span><span class="ss">atomvm</span><span class="w"> </span><span class="ss">pico_flash</span><span class="w"> </span><span class="o">--</span><span class="ss">path</span><span class="w"> </span><span class="o">/</span><span class="ss">mnt</span><span class="o">/</span><span class="ss">pico</span><span class="w"> </span><span class="o">--</span><span class="ss">reset</span><span class="w"> </span><span class="o">/</span><span class="ss">dev</span><span class="o">/</span><span class="ss">cu</span><span class="p">.</span><span class="ss">usbmodem1411202</span></code></pre><blockquote><p>Warning: There is currently a known bug that occurs when the VM is compiled with the <code class="inline">-DAVM_WAIT_FOR_USB_CONNECT</code> cmake option. If you have previously connected to the tty serial port with <code class="inline">screen</code>, <code class="inline">minicom</code>, or similar and have disconnected or closed the session, the device will take unusually long to reset and fail to mount the FAT partition within 30 seconds and <code class="inline">pico_flash</code> will fail. This can be worked around by unplugging the pico from usb and plug it back in again, before repeating the flash procedure.</p></blockquote><p>The following table enumerates the properties that may be defined in your project's <code class="inline">rebar.config</code> file for this task.  Use <code class="inline">pico_flash</code> as the key for any properties defined for this task.</p><table><thead><tr><th style="text-align: left;">Key</th><th style="text-align: left;">Type</th><th style="text-align: left;">Description</th></tr></thead><tbody><tr><td style="text-align: left;"><code class="inline">path</code></td><td style="text-align: left;"><code class="inline">string()</code></td><td style="text-align: left;">Path to pico device</td></tr><tr><td style="text-align: left;"><code class="inline">reset</code></td><td style="text-align: left;"><code class="inline">string()</code></td><td style="text-align: left;">Path to serial device to reset before flashing</td></tr></tbody></table><p>Example:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="8364949537-1">{</span><span class="ss">atomvm_rebar3_plugin</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8364949537-2">[</span><span class="p" data-group-id="8364949537-3">{</span><span class="ss">pico_flash</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8364949537-4">[</span><span class="p" data-group-id="8364949537-5">{</span><span class="ss">reset</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/dev/cu.usbmodem1411202&quot;</span><span class="p" data-group-id="8364949537-5">}</span><span class="p" data-group-id="8364949537-4">]</span><span class="p" data-group-id="8364949537-3">}</span><span class="p" data-group-id="8364949537-2">]</span><span class="p" data-group-id="8364949537-1">}</span><span class="p">.</span></code></pre><p>Alternatively, the following environment variables may be used to control the above settings:</p><ul><li><code class="inline">ATOMVM_REBAR3_PLUGIN_PICO_MOUNT_PATH</code></li><li><code class="inline">ATOMVM_REBAR3_PLUGIN_PICO_RESET_DEV</code></li></ul><p>Any setting specified on the command line take precedence over entries in <code class="inline">rebar.config</code>, which in turn take precedence over environment variable settings, which in turn take precedence over the default values specified above.</p><p>The <code class="inline">pico_flash</code> task depends on the <code class="inline">uf2create</code> task (which in turn depends on the <code class="inline">packbeam</code>  task), so the so the application will be packed and re-formatted if any changes have been made to dependencies.</p><h3 id="the-uf2create-task" class="section-heading">
  <a href="#the-uf2create-task" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">The <code class="inline">uf2create</code> task</span>
</h3>
<p>The <code class="inline">uf2create</code> task is used to generated an uf2 binary suitable for running on a Pico (RP2040) device from an AtomVM packbeam (<code class="inline">.avm</code>) file.</p><pre><code class="makeup erlang" translate="no"><span class="ss">shell</span><span class="sc">$ </span><span class="ss">rebar3</span><span class="w"> </span><span class="ss">help</span><span class="w"> </span><span class="ss">atomvm</span><span class="w"> </span><span class="ss">uf2create</span><span class="w">

</span><span class="n">Use</span><span class="w"> </span><span class="ss">this</span><span class="w"> </span><span class="ss">plugin</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="ss">create</span><span class="w"> </span><span class="n">Raspberry</span><span class="w"> </span><span class="n">Pico</span><span class="w"> </span><span class="ss">uf2</span><span class="w"> </span><span class="ss">files</span><span class="w"> </span><span class="ss">from</span><span class="w"> </span><span class="ss">an</span><span class="w"> </span><span class="n">AtomVM</span><span class="w"> </span><span class="ss">packbeam</span><span class="w"> </span><span class="ss">file</span><span class="p">.</span><span class="w">

</span><span class="n">Usage</span><span class="p">:</span><span class="w"> </span><span class="ss">rebar3</span><span class="w"> </span><span class="ss">atomvm</span><span class="w"> </span><span class="ss">uf2create</span><span class="w"> </span><span class="p" data-group-id="8380862213-1">[</span><span class="o">-</span><span class="ss">o</span><span class="w"> </span><span class="o">&lt;</span><span class="ss">output</span><span class="o">&gt;</span><span class="p" data-group-id="8380862213-1">]</span><span class="w"> </span><span class="p" data-group-id="8380862213-2">[</span><span class="o">-</span><span class="ss">s</span><span class="w"> </span><span class="o">&lt;</span><span class="ss">start</span><span class="o">&gt;</span><span class="p" data-group-id="8380862213-2">]</span><span class="w"> </span><span class="p" data-group-id="8380862213-3">[</span><span class="o">-</span><span class="ss">i</span><span class="w"> </span><span class="o">&lt;</span><span class="ss">input</span><span class="o">&gt;</span><span class="p" data-group-id="8380862213-3">]</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">o</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="ss">output</span><span class="w">  </span><span class="n">Output</span><span class="w"> </span><span class="ss">path</span><span class="o">/</span><span class="ss">name</span><span class="w">
</span><span class="p">-</span><span class="na">s</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="ss">start</span><span class="w">   </span><span class="n">Start</span><span class="w"> </span><span class="ss">address</span><span class="w"> </span><span class="ss">for</span><span class="w"> </span><span class="ss">the</span><span class="w"> </span><span class="ss">uf2</span><span class="w"> </span><span class="nf">binary</span><span class="w"> </span><span class="p" data-group-id="8380862213-4">(</span><span class="ss">default</span><span class="w"> </span><span class="mi">0</span><span class="ss">x10180000</span><span class="p" data-group-id="8380862213-4">)</span><span class="w">
</span><span class="p">-</span><span class="na">i</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="ss">input</span><span class="w">   </span><span class="n">Input</span><span class="w"> </span><span class="ss">avm</span><span class="w"> </span><span class="ss">file</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="ss">convert</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="ss">uf2</span></code></pre><p>It should not be necessary to use this tool before using <code class="inline">pico_flash</code>, unless you have built a custom VM that requires changing the start address of the uf2 binary. If the application has not been compiled, or packed with packbeam, these steps will be run first using the default settings for <code class="inline">packbeam</code>.</p><p>The following table enumerates the properties that may be defined in your project's <code class="inline">rebar.config</code> file for this task.  Use <code class="inline">uf2create</code> as the key for any properties defined for this task.</p><table><thead><tr><th style="text-align: left;">Key</th><th style="text-align: left;">Type</th><th style="text-align: left;">Description</th></tr></thead><tbody><tr><td style="text-align: left;"><code class="inline">start</code></td><td style="text-align: left;"><code class="inline">string()</code></td><td style="text-align: left;">Start address for the uf2 binary</td></tr></tbody></table><p>Example:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="8605386625-1">{</span><span class="ss">atomvm_rebar3_plugin</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8605386625-2">[</span><span class="p" data-group-id="8605386625-3">{</span><span class="ss">uf2create</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8605386625-4">[</span><span class="p" data-group-id="8605386625-5">{</span><span class="ss">start</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;0x10180000&quot;</span><span class="p" data-group-id="8605386625-5">}</span><span class="p" data-group-id="8605386625-4">]</span><span class="p" data-group-id="8605386625-3">}</span><span class="p" data-group-id="8605386625-2">]</span><span class="p" data-group-id="8605386625-1">}</span><span class="p">.</span></code></pre><p>Alternatively, the following environment variables may be used to control the above settings:</p><ul><li><code class="inline">ATOMVM_REBAR3_PLUGIN_UF2CREATE_START</code></li></ul><p>Any setting specified on the command line take precedence over entries in <code class="inline">rebar.config</code>, which in turn take precedence over environment variable settings, which in turn take precedence over the default values specified above.</p><p>The <code class="inline">uf2create</code> task depends on the <code class="inline">packbeam</code> task, so the packbeam file will get automatically built if any changes have been made to its dependencies.</p><h3 id="the-version-task" class="section-heading">
  <a href="#the-version-task" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">The <code class="inline">version</code> task</span>
</h3>
<p>use the <code class="inline">version</code> task to print the current verison of the <a href="https://atomvm.github.io/atomvm_rebar3_plugin"><code class="inline">atomvm_rebar3_plugin</code></a> to the console.</p><pre><code class="makeup erlang" translate="no"><span class="ss">shell</span><span class="sc">$ </span><span class="ss">rebar3</span><span class="w"> </span><span class="ss">atomvm</span><span class="w"> </span><span class="ss">version</span><span class="w">
</span><span class="mf">0.7</span><span class="p">.</span><span class="mi">3</span></code></pre><h3 id="the-bootstrap-task" class="section-heading">
  <a href="#the-bootstrap-task" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">The <code class="inline">bootstrap</code> task</span>
</h3>
<p>Use the <code class="inline">bootstrap</code> task to compile Erlang files that <code class="inline">rebar3</code> is otherwise unable to compile.  Typically, such files include modules from the OTP <code class="inline">kernel</code> or <code class="inline">stdlib</code> application that <code class="inline">rebar3</code> uses internally for its own implementation.</p><blockquote><p>Note.  The default <code class="inline">rebar3</code> <a href="https://www.erlang.org/doc/man/compile.html"><code class="inline">compile</code></a> task has the unfortunate feature (bug?) that it will load files that it compiles, which can be problematic if you are compiling modules that share names with modules that <code class="inline">rebar3</code> is using as part of its own implementation.</p></blockquote><pre><code class="makeup erlang" translate="no"><span class="ss">shell</span><span class="sc">$ </span><span class="ss">rebar3</span><span class="w"> </span><span class="ss">help</span><span class="w"> </span><span class="ss">atomvm</span><span class="w"> </span><span class="ss">bootstrap</span><span class="w">

</span><span class="n">This</span><span class="w"> </span><span class="ss">plugin</span><span class="w"> </span><span class="ss">is</span><span class="w"> </span><span class="ss">used</span><span class="w"> </span><span class="ss">internally</span><span class="w"> </span><span class="ss">by</span><span class="w"> </span><span class="ss">the</span><span class="w"> </span><span class="ss">atomvm</span><span class="w"> </span><span class="ss">packbeam</span><span class="w"> </span><span class="ss">task</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="ss">compile</span><span class="w">
</span><span class="ss">modules</span><span class="w"> </span><span class="ss">that</span><span class="w"> </span><span class="ss">cannot</span><span class="w"> </span><span class="ss">be</span><span class="w"> </span><span class="ss">compiled</span><span class="w"> </span><span class="ss">directly</span><span class="w"> </span><span class="ss">by</span><span class="w"> </span><span class="ss">rebar</span><span class="p">.</span><span class="w">

</span><span class="n">Users</span><span class="w"> </span><span class="ss">typically</span><span class="w"> </span><span class="ss">have</span><span class="w"> </span><span class="ss">no</span><span class="w"> </span><span class="ss">reason</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="ss">use</span><span class="w"> </span><span class="ss">this</span><span class="w"> </span><span class="ss">task</span><span class="w"> </span><span class="ss">directly</span><span class="p">.</span><span class="w">

</span><span class="n">Usage</span><span class="p">:</span><span class="w"> </span><span class="ss">rebar3</span><span class="w"> </span><span class="ss">atomvm</span><span class="w"> </span><span class="ss">tstrap</span><span class="w"> </span><span class="p" data-group-id="7156989336-1">[</span><span class="o">-</span><span class="ss">b</span><span class="w"> </span><span class="o">&lt;</span><span class="ss">bootstrap_dir</span><span class="o">&gt;</span><span class="p" data-group-id="7156989336-1">]</span><span class="w"> </span><span class="p" data-group-id="7156989336-2">[</span><span class="o">-</span><span class="ss">f</span><span class="w"> </span><span class="o">&lt;</span><span class="ss">force</span><span class="o">&gt;</span><span class="p" data-group-id="7156989336-2">]</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">b</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="ss">bootstrap_dir</span><span class="w">  </span><span class="n">Bootstrap</span><span class="w"> </span><span class="ss">directory</span><span class="w">
</span><span class="p">-</span><span class="na">f</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="ss">force</span><span class="w">         </span><span class="n">Force</span><span class="w"> </span><span class="ss">rebuild</span></code></pre><p>To use this task, place files that you would like to have compiled by the task in the <code class="inline">bootstrap</code> directory of your rebar3 project (or in a directory of your choosing -- see below).</p><pre><code class="makeup erlang" translate="no"><span class="ss">shell</span><span class="sc">$ </span><span class="ss">ls</span><span class="w"> </span><span class="ss">bootstrap</span><span class="w">
</span><span class="ss">application</span><span class="p">.</span><span class="ss">erl</span></code></pre><p>Files in this directory will be compiled and included in any generated PackBEAM files.</p><blockquote><p>Note.  The <code class="inline">bootstrap</code> task is used internally by the <a href="https://atomvm.github.io/atomvm_rebar3_plugin"><code class="inline">atomvm_rebar3_plugin</code></a> when the <code class="inline">packbeam</code> task is run.  Users typically do not have a need to run this task manually.</p></blockquote><p>The following table enumerates the properties that may be defined in your project's <code class="inline">rebar.config</code> file for this task.  Use <code class="inline">bootstrap</code> as the key for any properties defined for this task.</p><table><thead><tr><th style="text-align: left;">Key</th><th style="text-align: left;">Type</th><th style="text-align: left;">Description</th></tr></thead><tbody><tr><td style="text-align: left;"><code class="inline">force</code></td><td style="text-align: left;"><code class="inline">boolean()</code></td><td style="text-align: left;">Always force recompilation of bootstrap files, even if up to date</td></tr><tr><td style="text-align: left;"><code class="inline">bootstrap_dir</code></td><td style="text-align: left;"><code class="inline">string() | undefined</code></td><td style="text-align: left;">(Optional) path to a directory containing bootstrap files.  By default, the <code class="inline">bootstrap</code> task will use the <code class="inline">bootstrap</code> directory in the top-level project directory.  The path may be relative (to where the command is run) or absolute.</td></tr></tbody></table><p>Example:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="8945282207-1">{</span><span class="ss">atomvm_rebar3_plugin</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8945282207-2">[</span><span class="w">
    </span><span class="p" data-group-id="8945282207-3">{</span><span class="ss">bootstrap</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8945282207-4">[</span><span class="w">
        </span><span class="p" data-group-id="8945282207-5">{</span><span class="ss">bootstrap_dir</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/path/to/bootstrap_dir&quot;</span><span class="p" data-group-id="8945282207-5">}</span><span class="p">,</span><span class="w"> </span><span class="ss">force</span><span class="w">
    </span><span class="p" data-group-id="8945282207-4">]</span><span class="p" data-group-id="8945282207-3">}</span><span class="w">
</span><span class="p" data-group-id="8945282207-2">]</span><span class="p" data-group-id="8945282207-1">}</span><span class="p">.</span></code></pre><p>Any setting specified on the command line take precedence over entries in <code class="inline">rebar.config</code>, which in turn take precedence over the default values specified above.</p><h2 id="atomvm-app-template" class="section-heading">
  <a href="#atomvm-app-template" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">AtomVM App Template</span>
</h2>
<p>The <a href="atomvm_rebar3_plugin.html"><code class="inline">atomvm_rebar3_plugin</code></a> contains template definitions for generating skeletal <code class="inline">rebar3</code> projects.</p><p>The best way to make use of this template is to include the <a href="atomvm_rebar3_plugin.html"><code class="inline">atomvm_rebar3_plugin</code></a> in your <code class="inline">$HOME/.config/rebar3/rebar.config</code> file, e.g.,</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="7886590044-1">{</span><span class="ss">plugins</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7886590044-2">[</span><span class="w">
    </span><span class="ss">atomvm_rebar3_plugin</span><span class="w">
</span><span class="p" data-group-id="7886590044-2">]</span><span class="p" data-group-id="7886590044-1">}</span><span class="p">.</span></code></pre><p>You can then generate a minimal AtomVM application as follows:</p><pre><code class="makeup erlang" translate="no"><span class="ss">shell</span><span class="sc">$ </span><span class="ss">rebar3</span><span class="w"> </span><span class="ss">new</span><span class="w"> </span><span class="ss">atomvm_app</span><span class="w"> </span><span class="ss">myapp</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Writing</span><span class="w"> </span><span class="ss">myapp</span><span class="o">/</span><span class="p">.</span><span class="ss">gitignore</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Writing</span><span class="w"> </span><span class="ss">myapp</span><span class="o">/</span><span class="n">LICENSE</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Writing</span><span class="w"> </span><span class="ss">myapp</span><span class="o">/</span><span class="ss">rebar</span><span class="p">.</span><span class="ss">config</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Writing</span><span class="w"> </span><span class="ss">myapp</span><span class="o">/</span><span class="n">README</span><span class="p">.</span><span class="ss">md</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Writing</span><span class="w"> </span><span class="ss">myapp</span><span class="o">/</span><span class="ss">src</span><span class="o">/</span><span class="ss">myapp</span><span class="p">.</span><span class="ss">erl</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Writing</span><span class="w"> </span><span class="ss">myapp</span><span class="o">/</span><span class="ss">src</span><span class="o">/</span><span class="ss">myapp</span><span class="p">.</span><span class="ss">app</span><span class="p">.</span><span class="ss">src</span></code></pre><p>This task will create a simple <code class="inline">rebar3</code> project with a minimal AtomVM application in the <code class="inline">myapp</code> directory.</p><p>Change to the <code class="inline">myapp</code> directory and issue the <code class="inline">packbeam</code> task to the <code class="inline">rebar3</code> command:</p><pre><code class="makeup erlang" translate="no"><span class="ss">shell</span><span class="sc">$ </span><span class="ss">cd</span><span class="w"> </span><span class="ss">myapp</span><span class="w">
</span><span class="ss">shell</span><span class="sc">$ </span><span class="ss">rebar3</span><span class="w"> </span><span class="ss">packbeam</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Fetching</span><span class="w"> </span><span class="ss">atomvm_rebar3_plugin</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Fetching</span><span class="w"> </span><span class="ss">packbeam</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Compiling</span><span class="w"> </span><span class="ss">packbeam</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Compiling</span><span class="w"> </span><span class="ss">atomvm_rebar3_plugin</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Verifying</span><span class="w"> </span><span class="ss">dependencies</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Compiling</span><span class="w"> </span><span class="ss">myapp</span><span class="w">
</span><span class="o">==</span><span class="p">=&gt;</span><span class="w"> </span><span class="n">AVM</span><span class="w"> </span><span class="ss">file</span><span class="w"> </span><span class="ss">written</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="o">/</span><span class="ss">myapp</span><span class="o">/</span><span class="p">_</span><span class="ss">build</span><span class="o">/</span><span class="ss">default</span><span class="o">/</span><span class="ss">lib</span><span class="o">/</span><span class="ss">myapp</span><span class="p">.</span><span class="ss">avm</span></code></pre><p>An AtomVM AVM file is created in the <code class="inline">_build/default/lib</code> directory:</p><pre><code class="makeup erlang" translate="no"><span class="ss">shell</span><span class="sc">$ </span><span class="ss">ls</span><span class="w"> </span><span class="o">-</span><span class="ss">l</span><span class="w"> </span><span class="p">_</span><span class="ss">build</span><span class="o">/</span><span class="ss">default</span><span class="o">/</span><span class="ss">lib</span><span class="o">/</span><span class="ss">myapp</span><span class="p">.</span><span class="ss">avm</span><span class="w">
</span><span class="p">-</span><span class="na">rw</span><span class="o">-</span><span class="ss">rw</span><span class="o">-</span><span class="ss">r</span><span class="o">--</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="ss">joe</span><span class="w">  </span><span class="ss">wheel</span><span class="w">  </span><span class="mi">328</span><span class="w"> </span><span class="n">Jan</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1970</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">01</span><span class="w"> </span><span class="p">_</span><span class="ss">build</span><span class="o">/</span><span class="ss">default</span><span class="o">/</span><span class="ss">lib</span><span class="o">/</span><span class="ss">myapp</span><span class="p">.</span><span class="ss">avm</span></code></pre>
<div class="bottom-actions">
  <div class="bottom-actions-item">

  </div>
  <div class="bottom-actions-item">

      <a href="changelog.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page â†’
        </span>
        <span class="title">
Changelog
        </span>
      </a>

  </div>
</div>
      <footer class="footer">
        <p>

            <span class="line">
              <a href="https://hex.pm/packages/atomvm_rebar3_plugin/0.7.3" class="footer-hex-package">Hex Package</a>

              <a href="https://preview.hex.pm/preview/atomvm_rebar3_plugin/0.7.3">Hex Preview</a>

                (<a href="https://preview.hex.pm/preview/atomvm_rebar3_plugin/0.7.3/show/README.md">current file</a>)

            </span>

          <span class="line">
            <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
              Search HexDocs
            </button>

              <a href="atomvm_rebar3_plugin.epub" title="ePub version">
                Download ePub version
              </a>

          </span>
        </p>

        <p class="built-using">
          Built using
          <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.30.7) for the

            <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

        </p>
      </footer>
    </div>
  </div>
</main>
</div>


  </body>
</html>
